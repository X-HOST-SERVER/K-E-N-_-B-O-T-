import fetch from 'node-fetch';

let handler = async (m, { conn }) => {
  try {
    await m.react('ğŸ´');

    let username = conn.getName(m.sender);
    let userLevel = global.db.data.users[m.sender]?.level || 0;

    // ğŸµ Ø¥Ø±Ø³Ø§Ù„ ØµÙˆØª ØªØ±Ø­ÙŠØ¨ÙŠ
    let audioUrl = 'https://files.catbox.moe/ysx10k.mp3';
    await conn.sendMessage(m.chat, {
      audio: { url: audioUrl },
      mimetype: 'audio/mp4',
      ptt: false,
      contextInfo: {
        mentionedJid: [m.sender],
        externalAdReply: {
          title: "ğŠğ„ğ â€¢ ğğğ“",
          body: "ÙƒÙŠÙ† ÙŠÙ†ØªØ¸Ø±Ùƒ",
          thumbnail: await (await conn.getFile('https://files.catbox.moe/qkzizs.jpg')).data,
          sourceUrl: "https://whatsapp.com/channel/0029VbB5lRa77qVL1zoGaH2A"
        }
      }
    }, { quoted: m });

    // â³ ØªØ£Ø®ÙŠØ± 1.5 Ø«Ø§Ù†ÙŠØ©
    setTimeout(async () => {
      // ğŸ§¾ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø·ÙˆØ±
      let contactsList = [{
        displayName: "â¦…ğŸ“®â”‡ğ‘²ğ‘¬ğ‘µâ”‡ğŸ“®â¦†",
        vcard: `BEGIN:VCARD
VERSION:3.0
FN:â¦…ğŸ“®â”‡ğ‘²ğ‘¬ğ‘µğŸ“®â¦†
N:Ø¯ÙŠØ§Ø¨Ù„Ùˆ;ÙƒÙŠÙ†;;;
TEL;type=CELL;waid=201021902759:+201021902759
EMAIL;type=INTERNET:diablo.dev@gmail.com
URL:https://instagram.com/diablo.dev
ORG:ğŠğ„ğ â€¢ ğğğ“
TITLE:Ù…Ø·ÙˆØ± Ø§Ù„Ø¨ÙˆØª
NOTE:Ù…Ø·ÙˆØ± Ø³ÙƒØ±ÙŠØ¨ØªØ§Øª ÙˆØ§ØªØ³Ø§Ø¨ Ù…ØªÙ‚Ø¯Ù…
X-ABLabel:ğŒğ‘â€¢ğŠğ„ğ
END:VCARD`
      }];

      await conn.sendMessage(m.chat, {
        contacts: {
          displayName: "ğŸ©¸ ğŠğ„ğ ğ‚ğğğ“ğ€ğ‚ğ“",
          contacts: contactsList
        }
      }, { quoted: m });

      // ğŸ“œ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø²Ø®Ø±Ù
      let messageText = `
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â—¥â—£â—†â—¢â—¤â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
                    *ğŠğ„ğ â€¢ ğğğ“*
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â—¢â—¤â—†â—¥â—£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

âœ§ â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† âœ§

ğŸ´ â€¢ **Ù…Ù€Ø±Ø­Ù€Ø¨Ù€Ø§ ÙŠÙ€Ø§** \`${username}\`
ğŸ¯ â€¢ **Ù…Ù€Ø³Ù€ØªÙ€ÙˆÙ‰ Ø§Ù„Ù€Ù„Ù€Ø¹Ù€Ø¨:** ${userLevel}

âœ§ â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† âœ§

ğŸ“œ â€¢ **Ù‚Ù€ÙˆØ§Ø¹Ù€Ø¯ Ø§Ù„Ù€ØªÙ€ÙˆØ§ØµÙ€Ù„ Ù…Ù€Ø¹ Ø§Ù„Ù€Ù…Ù€Ø·Ù€ÙˆØ±:**
â¶ â€¢ Ø§Ø¯Ø®Ù„ Ø¨ØªØ­ÙŠØ© Ø§Ù„Ø³Ù„Ø§Ù… ÙˆØ§Ù„Ø§Ø­ØªØ±Ø§Ù…  
â· â€¢ Ù„Ø§ ØªØ²Ø¹Ø¬ Ø§Ù„Ù…Ø·ÙˆØ± Ø¨Ø±Ø³Ø§Ø¦Ù„ ÙØ§Ø¶ÙŠØ©  
â¸ â€¢ ØªØ­Ø¯Ø« Ø¨ØµØ±Ø§Ø­Ø© Ø¹Ù† Ø·Ù„Ø¨Ùƒ Ù…Ø¨Ø§Ø´Ø±Ø©  
â¹ â€¢ Ø§Ø­ØªØ±Ù… ÙˆÙ‚Øª Ø§Ù„Ù…Ø·ÙˆØ± ÙˆÙ„Ø§ ØªÙ„Ø­ Ø¨Ø§Ù„Ø±Ø³Ø§Ø¦Ù„  
âº â€¢ Ø§Ù„Ø§Ø³ÙƒØ±ÙŠØ¨Øª ØºÙŠØ± Ù…Ø¬Ø§Ù†ÙŠØŒ Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±: .ØªØ§Ø¦Ø¨  

âœ§ â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† âœ§

ğŸ§° â€¢ **Ù…Ù€Ø¹Ù€Ù„Ù€ÙˆÙ…Ù€Ø§Øª Ø§Ù„Ù€ØªÙ€ÙˆØ§ØµÙ€Ù„:**
â˜ï¸ â€¢ **Ø§Ù„Ù€Ø±Ù‚Ù€Ù…:** \`+201021902759\`  
ğŸ“§ â€¢ **Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„:** riyadmosa5@gmail.com   
ğŸ“± â€¢ **Ø¥Ù†Ù€Ø³Ù€ØªÙ€Ø¬Ù€Ø±Ø§Ù…:** riyad_@  
ğŸŒ â€¢ **Ø§Ù„Ù€Ù‚Ù€Ù†Ù€Ø§Ø©:** @Ø¹Ø§Ø¦Ù„Ø©_ÙƒÙŠÙ†  

âœ§ â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† â‹† âœ§

ğŸ’ â€¢ **ØªÙ€Ø°ÙƒÙ€ÙŠØ±:** Ù‡Ù€Ø°Ø§ Ø§Ù„Ù€Ø±Ù‚Ù€Ù… Ù„Ù€ÙŠÙ€Ø³ Ø¨Ù€ÙˆØªÙ€Ø§Ù‹ØŒ Ø¨Ù€Ù„ Ù‡Ù€Ùˆ Ø±Ù‚Ù€Ù… Ø§Ù„Ù€Ù…Ù€Ø·Ù€ÙˆØ± Ø´Ù€Ø®Ù€ØµÙ€ÙŠÙ€Ø§Ù‹

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â—¥â—£ğŸ´â—¢â—¤â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
                    *ğŠğ„ğ â€¢ ğ“ğ„ğ€ğŒ*
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â—¢â—¤ğŸ´â—¥â—£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
`.trim();

      await conn.sendMessage(m.chat, {
        text: messageText,
        contextInfo: {
          mentionedJid: [m.sender],
          forwardingScore: 999,
          isForwarded: true,
          externalAdReply: {
            title: "ğŠğ„ğ â€¢ ğğğ“",
            body: "Ù†Ø¸Ø§Ù… ÙƒÙŠÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…",
            thumbnail: await (await conn.getFile('https://files.catbox.moe/qkzizs.jpg')).data,
            sourceUrl: "https://whatsapp.com/channel/0029VbB5lRa77qVL1zoGaH2A",
            mediaType: 1
          }
        }
      }, { quoted: m });

      // ğŸ”˜ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© Ø¨Ø¹Ø¯ 2 Ø«Ø§Ù†ÙŠØ©
      setTimeout(async () => {
        await conn.sendMessage(m.chat, {
          text: `ğŸ´ *ğŠğ„ğ â€¢ ğğğ“*
                    
ğŸ­ **Ø®Ù€ÙŠÙ€Ø§Ø±Ø§Øª Ø¥Ø¶Ù€Ø§ÙÙ€ÙŠÙ€Ø© Ù„Ù€Ùƒ:**

â€¢ ğŸ“œ *.Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯* - Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø¨ÙˆØª Ø§Ù„ÙƒØ§Ù…Ù„Ø©  
â€¢ ğŸ¤– *.Ø§Ù„Ø§Ø³ÙƒØ±ÙŠØ¨Øª* - Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„Ø³ÙƒØ±Ø¨Øª  
â€¢ ğŸ‘¥ *.Ø§Ù„ÙØ±ÙŠÙ‚* - ØªØ¹Ø±Ù Ø¹Ù„Ù‰ ÙØ±ÙŠÙ‚ ÙƒÙŠÙ†  
â€¢ ğŸ¯ *.Ø§Ù„Ø±ØªØ¨* - Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ØªØ¨ ÙˆØ§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª  
â€¢ ğŸ’« *.Ø§Ù„Ù…Ø·ÙˆØ±_ÙƒÙŠÙ†* - Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø®Ø§ØµØ© Ø¹Ù† ÙƒÙŠÙ†  

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â—¥â—£ğŸ´â—¢â—¤â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
                    *ğŠğ„ğ â€¢ ğ’ğ˜ğ’ğ“ğ„ğŒ*
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â—¢â—¤ğŸ´â—¥â—£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›`,
          templateButtons: [
            { index: 1, quickReplyButton: { displayText: 'ğŸ“œ ğ‘ğ”ğ‹ğ„ğ’', id: '.Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯' } },
            { index: 2, quickReplyButton: { displayText: 'ğŸ¤– ğ’ğ‚ğ‘ğˆğğ“', id: '.Ø§Ù„Ø§Ø³ÙƒØ±ÙŠØ¨Øª' } },
            { index: 3, quickReplyButton: { displayText: 'ğŸ‘¥ ğ“ğ„ğ€ğŒ', id: '.Ø§Ù„ÙØ±ÙŠÙ‚' } }
          ]
        }, { quoted: m });
      }, 2000);

    }, 1500);

  } catch (error) {
    console.error('ğŸ´ Ø®Ø·Ø£ ÙÙŠ Ø£Ù…Ø± Ø§Ù„Ù…Ø·ÙˆØ±:', error);
    await m.react('âŒ');
    await conn.sendMessage(m.chat, {
      text: `âŒ *Ø­Ù€Ø¯Ø« Ø®Ù€Ø·Ù€Ø£ ØºÙ€ÙŠÙ€Ø± Ù…Ù€ØªÙ€ÙˆÙ‚Ù€Ø¹!*\n\nğŸ´ Ø§Ù„Ù…Ø·ÙˆØ± Ù…Ø´ØºÙˆÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹ØŒ Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ø§Ù‹.`
    }, { quoted: m });
  }
};

handler.help = ['owner', 'creator', 'Ø§Ù„Ù…Ø·ÙˆØ±', 'Ù…Ø·ÙˆØ±', 'ÙƒÙŠÙ†', 'Ø§Ù„Ù…Ø·ÙˆØ±_ÙƒÙŠÙ†'];
handler.tags = ['main', 'Ø±Ø¦ÙŠØ³ÙŠ'];
handler.command = /^(owner|creator|Ø§Ù„Ù…Ø·ÙˆØ±|Ù…Ø·ÙˆØ±|ÙƒÙŠÙ†Ùˆ|Ø§Ù„Ù…Ø·ÙˆØ±_ÙƒÙŠÙ†|ken|diablo)$/i;

export default handler;